{"ast":null,"code":"var _jsxFileName = \"/Users/nurbol/Documents/react-start/client/src/App.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { BrowserRouter, Routes, Route, Navigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { login } from \"./authReducer\";\nimport Home from \"./Pages/Home\";\nimport Search from \"./Pages/Search\";\nimport AddPost from \"./Pages/AddPost\";\nimport Chats from './Pages/Chats';\nimport ManageUsers from \"./Pages/ManageUsers\";\nimport Profile from \"./Pages/Profile\";\nimport Login from \"./Pages/Login\";\nimport SignUp from \"./Pages/SignUp\";\nimport { ToastContainer } from 'react-toastify';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const dispatch = useDispatch();\n  const user = useSelector(state => state.auth.user); // Получаем текущего пользователя из Redux\n\n  React.useEffect(() => {\n    const storedUser = JSON.parse(localStorage.getItem('user'));\n    if (storedUser) {\n      dispatch(login(storedUser)); // Синхронизируем Redux с localStorage\n    }\n  }, [dispatch]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BrowserRouter, {\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/home\",\n          element: user ? user.role === \"ban\" ? /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 52\n          }, this) : /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 81\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 93\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/search\",\n          element: user ? user.role === \"ban\" || user.role === \"moderator\" ? /*#__PURE__*/_jsxDEV(Search, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 81\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 94\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 124\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/add-post\",\n          element: user ? user.role === \"ban\" ? /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 52\n          }, this) : /*#__PURE__*/_jsxDEV(AddPost, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 81\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 96\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/chats\",\n          element: user ? user.role === \"ban\" ? /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 52\n          }, this) : /*#__PURE__*/_jsxDEV(Chats, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 81\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 94\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/manage-users\",\n          element: user ? user.role === \"admin\" ? /*#__PURE__*/_jsxDEV(ManageUsers, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 54\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 72\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 102\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/profile\",\n          element: /*#__PURE__*/_jsxDEV(Profile, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 22\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          element: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 22\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signup\",\n          element: /*#__PURE__*/_jsxDEV(SignUp, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 22\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"D+tpgEc7oJbenxkkKtcwSrPV108=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","BrowserRouter","Routes","Route","Navigate","useDispatch","useSelector","login","Home","Search","AddPost","Chats","ManageUsers","Profile","Login","SignUp","ToastContainer","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","dispatch","user","state","auth","useEffect","storedUser","JSON","parse","localStorage","getItem","children","fileName","_jsxFileName","lineNumber","columnNumber","path","element","role","to","_c","$RefreshReg$"],"sources":["/Users/nurbol/Documents/react-start/client/src/App.jsx"],"sourcesContent":["import React from 'react';\nimport { BrowserRouter, Routes, Route, Navigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { login } from \"./authReducer\";\nimport Home from \"./Pages/Home\";\nimport Search from \"./Pages/Search\";\nimport AddPost from \"./Pages/AddPost\";\nimport Chats from './Pages/Chats';\nimport ManageUsers from \"./Pages/ManageUsers\";\nimport Profile from \"./Pages/Profile\";\nimport Login from \"./Pages/Login\";\nimport SignUp from \"./Pages/SignUp\";\nimport { ToastContainer } from 'react-toastify';\n\nfunction App() {\n  const dispatch = useDispatch();\n  const user = useSelector((state) => state.auth.user); // Получаем текущего пользователя из Redux\n\n  React.useEffect(() => {\n    const storedUser = JSON.parse(localStorage.getItem('user'));\n    if (storedUser) {\n      dispatch(login(storedUser)); // Синхронизируем Redux с localStorage\n    }\n  }, [dispatch]);\n\n  return (\n    <>\n      <ToastContainer />\n      <BrowserRouter>\n        <Routes>\n          {/* Главная страница */}\n          <Route\n            path=\"/home\"\n            element={user ? (user.role === \"ban\" ? <Navigate to=\"/profile\" /> : <Home />) : <Navigate to=\"/login\" />}\n          />\n\n          {/* Поиск (только для модераторов) */}\n          <Route\n            path=\"/search\"\n            element={user ? (user.role === \"ban\" || user.role === \"moderator\" ? <Search /> : <Navigate to=\"/profile\" />) : <Navigate to=\"/login\" />}\n          />\n\n          {/* Добавление поста (доступно всем, кроме заблокированных) */}\n          <Route\n            path=\"/add-post\"\n            element={user ? (user.role === \"ban\" ? <Navigate to=\"/profile\" /> : <AddPost />) : <Navigate to=\"/login\" />}\n          />\n\n          {/* Чаты (доступны всем, кроме заблокированных) */}\n          <Route\n            path=\"/chats\"\n            element={user ? (user.role === \"ban\" ? <Navigate to=\"/profile\" /> : <Chats />) : <Navigate to=\"/login\" />}\n          />\n          <Route\n            path=\"/manage-users\"\n            element={user ? (user.role === \"admin\" ? <ManageUsers /> : <Navigate to=\"/profile\" />) : <Navigate to=\"/login\" />}\n          />\n\n          {/* Профиль (доступен всем авторизованным пользователям) */}\n          <Route\n            path=\"/profile\"\n            element={<Profile />}\n          />\n\n          {/* Логин */}\n          <Route\n            path=\"/login\"\n            element={<Login />}\n          />\n\n          {/* Регистрация */}\n          <Route\n            path=\"/signup\"\n            element={<SignUp />}\n          />\n        </Routes>\n      </BrowserRouter>\n    </>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}